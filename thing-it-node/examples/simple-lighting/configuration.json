{
   "label": "Home",
   "id": "home",
   "devices": [
      {
      	 "label": "Arduino Uno 1",
      	 "id": "arduino1",
         "plugin": "arduino",
         "actors": [
            {
               "id": "led1",
               "label": "LED1",
               "type": "led",
               "configuration": {
                  "pin": 12
               }
            },
            {
               "id": "led2",
               "label": "LED2",
               "type": "led",
               "configuration": {
                  "pin": 13
               }
            }
         ],
         "sensors": [
            {
               "id": "button1",
               "label": "Button 1",
               "type": "button",
               "configuration": {
                  "pin": 2
               }
            },
            {
               "id": "button2",
               "label": "Button 2",
               "type": "button",
               "configuration": {
                  "pin": 4
               }
            }, 
            {
               "id": "photocell1",
               "label": "Photocell 1",
               "type": "photocell",
               "configuration": {
                  "pin": "A0"
               }
            }
         ]
      }
   ],
   "services": [
   		{
   			"id": "toggleAll",
   			"script" : "if (this.arduino1.led1.state == 'on') {this.arduino1.led1.off(); this.arduino1.led2.off();} else {this.arduino1.led1.on(); this.arduino1.led2.on();}"
   		}],
   "eventProcessors": [
      {
         "id": "eventProcessor1",
         "label": "Event Processor 1",
         "observables": ["arduino1.button1", "arduino1.button2"],
         "match" : "arduino1.button1.hold || arduino1.button2.hold",
         "script": "toggleAll();"
      }, {
         "id": "eventProcessor2",
         "label": "Event Processor 2",
         "observables": ["arduino1.photocell1"],
         "window" : {"duration": 5000},
         "match" : "minimum(arduino1.photocell1.series) < 700",
         "script": "arduino1.led1.on(); arduino1.led2.on();"
      }
   ]
}
