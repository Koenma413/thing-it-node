<div class="modal" ui-if='sensorDialog' ui-state='sensorDialog'>
    <div class="modal-backdrop in"></div>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Sensor</h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <fieldset>
                        <div class="form-group">
                            <label>Sensor Type</label>
                            <select ng-model="mobileConsole.sensorDialog.sensor.type"
                                    ng-options="sensorType.plugin as (sensorType.label | splitcharacters:30 ) for sensorType in mobileConsole.sensorDialog.device.__type.sensorTypes">
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Label</label>
                            <input
                                    ng-model="mobileConsole.sensorDialog.sensor.label"
                                    class="form-control"
                                    placeholder="Enter Label">
                        </div>
                        <div ng-repeat="objectType in [mobileConsole.sensorType(mobileConsole.sensorDialog.device, mobileConsole.sensorDialog.sensor.type).configuration]">
                            <div ng-include="'objectPanel.html'"
                                 ng-repeat="object in [mobileConsole.sensorDialog.sensor.configuration]"></div>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="modal-footer">
                <button ui-turn-off="sensorDialog" class="btn btn-primary"
                        ng-click="mobileConsole.createSensor(mobileConsole.sensorDialog.device, mobileConsole.sensorDialog.sensor)">
                    Add
                </button>
                <button ui-turn-off="sensorDialog" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>