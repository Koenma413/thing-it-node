<div ui-content-for="topbar">
    <div class="navbar-brand navbar-brand-center">
        <i class="icon sl-wrench"></i> Settings
    </div>
    <div class="btn-group pull-right">
        <div ui-toggle="uiSidebarRight" class="btn">
            <i class="icon sl-list-1"></i>
        </div>
    </div>
    <div class="btn-group pull-left">
        <div class="btn">
            <a ng-click="mobileConsole.popPage()"><i class="icon sl-arrow-59"></i></a>
        </div>
    </div>
    <ti-color-bar></ti-color-bar>
</div>
<div class="scrollable" ui-state="searchBar">
    <div class="scrollable-content" ui-scroll-bottom='bottomReached()' ui-swipe-right="mobileConsole.popPage()">
        <div class="section">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        State
                    </h4>
                </div>
                <div class="panel-body">
                    <table class="formTable">
                        <tr>
                            <td><label>URL</label></td>
                            <td>{{mobileConsole.consoleService.rootUrl}}</td>
                        </tr>
                        <tr>
                            <td><label>Component URL</label></td>
                            <td>{{mobileConsole.consoleService.getComponentRootUrl()}}</td>
                        </tr>
                        <tr>
                            <td>
                                <button class="btn btn-primary btn-block" ng-click="mobileConsole.topPage().openSettingsDialog()">
                                    Change
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div ui-content-for="modals">
    <div class="modal" ui-if='serverSettingsDialog' ui-state='serverSettingsDialog'>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="circleText pull-right" style="width: 20px;" ui-turn-off="componentPluginUi">
                        <div><i class="fa fa-times"></i></div>
                    </div>
                    <h1>Server Settings</h1>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <table class="formTable">
                        <tr>
                            <td><label>Server Mode</label></td>
                            <td><select ng-model="mobileConsole.topPage().serverMode" ng-change="mobileConsole.topPage().onServerModeChange()">
                                <option value="local">Local Node Box</option>
                                <option value="tic">thing-it.com</option>
                                <option value="test">Test</option>
                            </select>
                            </td>
                        </tr>
                        <tr ng-hide="mobileConsole.topPage().serverMode === 'tic'">
                            <td><label>Host</label></td>
                            <td><input ng-model="mobileConsole.topPage().host">
                                </select>
                            </td>
                        </tr>
                        <tr ng-hide="mobileConsole.topPage().serverMode === 'tic'">
                            <td><label>Port</label></td>
                            <td><input ng-model="mobileConsole.topPage().port">
                                </select>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary"
                            ng-click="mobileConsole.topPage().applySettings()">
                        Apply
                    </button>
                    <button ui-turn-off="serverSettingsDialog" class="btn btn-default">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

